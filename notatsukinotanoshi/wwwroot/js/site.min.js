function update(){mailBodyIndex=parseInt(Math.random()*mailTemplate.length);mailBody=mailTemplate[mailBodyIndex].msg.replace(/%company_name%/g,$("#sp").text()).replace(/%user_name%/g,author.val()).replace(/%user_nationality%/g,country.val());$("#mailBody").html(mailBody);$("div#email").html("Email: "+$("#sp").val())}function updateLang(){locale=$("select#lang").val();_locale=locale=="zh"?"en":locale;update()}function updateRecv(){recv=sps[parseInt($("#sp").val())];update()}function mailAction(n){mode=parseInt(n.dataset.type);update()}function sendEmail(){if(!author.val().length)return alert("Please input your username!");if(!country.val().length)return alert("Please input your nationality!");var n=langs[_locale].mailSubject[parseInt(Math.random()*langs[_locale].mailSubject.length)],t=mailAPI[mode].replace("!SUBJECT!",encodeURIComponent(n)).replace("!RECV!",encodeURIComponent($("#sp").val())).replace("!BODY!",encodeURIComponent(mailBody));window.open(t,"_blank").focus()}let _locale=$("#culture-input").val()=="zh"?"en":$("#culture-input").val();$(document).ready(()=>{console.log("./resources/email-template."+_locale+".json"),$.getJSON("./resources/email-template."+_locale+".json",function(n){console.log(n);mailTemplate=n}).complete(function(){update()})});class Sponsor{constructor(n,t,i,r="",u="",f){this.company={ja:n,zh:t,en:i};this.product={ja:r,zh:u,en:u};this.email=f}}const sps=[new Sponsor("株式会社テレビ東京","東京電視台","TV TOKYO Corporation","","","privacy@txshop.jp"),new Sponsor("クランチロール","Crunchyroll","Crunchyroll","ネット放送サービス","Web Broadcast Service","support@crunchyroll.com"),new Sponsor("アニメシアターX","AT-X","AT-X","テレビ放送サービス","TV Broadcast Service","ppinfo@at-x.com"),new Sponsor("株式会社エス・ワイ・エス","SYS公司","SYS Inc.","プリントサービス","Printing Service","info@sys-inc.jp"),new Sponsor("エイジグローバルネットワークス株式会社","Age Global Networks","Age Global Networks","","","info@age-global.net"),new Sponsor("株式会社ジャストプロ","JustPro","Just Production Inc.","","","info@just-pro.jp"),new Sponsor("株式会社ブシロード","株式會社武士道","Bushiroad Inc.","","","support@bushiroad.com"),new Sponsor("株式会社クロックワークス","KlockWorx","KlockWorx Co.ltd","DVDレンタル","DVD Rental Service","info@klockworx.com"),new Sponsor("株式会社ウルトラダイレクト","Ultra Direct","Ultra Direct","けものフレンズカフェ","JAPARI CAFÉ","japaricafe.tokyo@gmail.com"),new Sponsor("にいがたアニメ・マンガフェスティバル実行委員会事務局","新潟動漫節執行委員會","The Niigata Anime and Manga Festival Committee","がたふぇす限定グッズ","Limited Goods","bunka@city.niigata.lg.jp"),new Sponsor("オンキヨー株式会社","ONKYO","Onkyo Corporation","イヤホン","Earphone","customer@jp.onkyo.com"),],langs={zh:{langText:"中文",g:"Gmail",q:"QR Code",t:"傳統郵件(開啟郵件客戶端)",name:"朋友的名字",country:"朋友的國籍",recv:"收件公司",submit:"跳轉到發送頁面",modeText:["Gmail (電腦)","電子郵件 (手機)"]},ja:{langText:"日本語",g:"Gmail",q:"QR コート",t:"メールソフトで開く",mailSubject:["けものフレンズの件について","けものフレンズコラボの件について"],name:"フレンズの名前",country:"フレンズの縄張り",recv:"紙飛行機の届き先",submit:"メールのページへ",modeText:["Gmail (パソコン)","メール (携帯)"]},en:{langText:"English",g:"Gmail",q:"QR Code",t:"Traditional mail",mailSubject:["About your company's collaboration with Kemono Friends","Kemono Friends Inquiry"],name:"Friends' name",country:"Friends' nationality",recv:"Which to send",submit:"Compose an email",modeText:["Gmail (For PC)","E-Mail (For Mobile)"]}},mailAPI={0:"https://mail.google.com/mail/?view=cm&fs=1&to=!RECV!&su=!SUBJECT!&body=!BODY!",1:"mailto:!RECV!?subject=!SUBJECT!&body=!BODY!"},isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var mode=isMobile?1:0,author=$("#sender"),country=$("#country");let mailTemplate="";$("#sp").on("change",updateRecv);$("select#lang").on("change",updateLang);$("input#sender").on("input",()=>{update()});$("input#country").on("input",()=>{update()});